# ğŸ§  Polyglot-KO FastAPI ì„œë²„

í•œêµ­ì–´ íŠ¹í™” LLM `heegyu/polyglot-ko-1.3b-chat`ì„ FastAPIë¥¼ í†µí•´ REST API í˜•íƒœë¡œ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ“¦ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. Conda í™˜ê²½ ì„¤ì • (ê¶Œì¥)

Anaconda ë˜ëŠ” Minicondaê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´, ì•„ë˜ì™€ ê°™ì´ í™˜ê²½ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
conda create -n polyglotko python=3.10 -y
conda activate polyglotko
```

### ë˜ëŠ”: Python ê°€ìƒí™˜ê²½ ìƒì„± (venv)

```bash
python -m venv venv
source venv/bin/activate        # (Linux/macOS)
venv\Scripts\activate           # (Windows)
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 3. ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ë° ìºì‹±

ëª¨ë¸ì€ ë‹¤ìŒ Hugging Face ì €ì¥ì†Œì—ì„œ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤:

ğŸ”— [heegyu/polyglot-ko-1.3b-chat](https://huggingface.co/heegyu/polyglot-ko-1.3b-chat)

ì„¤ì¹˜ëœ `transformers`ì™€ `torch` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ëª¨ë¸ì´ ì²˜ìŒ ì‹¤í–‰ ì‹œ ìºì‹±ë©ë‹ˆë‹¤. ì¸í„°ë„· ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤.

### 4. ì„œë²„ ì‹¤í–‰

```bash
uvicorn app:app --host 0.0.0.0 --port 8888
```

ì‹¤í–‰ í›„, ì•„ë˜ ì£¼ì†Œë¡œ API ìš”ì²­ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤:

```
http://localhost:8888/generate_response/
```

---

## ğŸ” API ì‚¬ìš©ë²•

### â–¶ï¸ ì—”ë“œí¬ì¸íŠ¸

```
POST /generate_response/
```

### ğŸ“¥ ìš”ì²­ ì˜ˆì‹œ (test.json)

```json
{
  "content": "í•œêµ­ì—ì„œ ê°€ì¥ ë†’ì€ ì‚°ì€ ì–´ë””ì¸ê°€ìš”?"
}
```

### ğŸ“¤ ì‘ë‹µ ì˜ˆì‹œ

```json
{
  "response": "í•œêµ­ì—ì„œ ê°€ì¥ ë†’ì€ ì‚°ì€ í•œë¼ì‚°ì…ë‹ˆë‹¤."
}
```

### ğŸ§ª CURL ì˜ˆì‹œ

```bash
curl -X POST http://localhost:8888/generate_response/ \
  -H "Content-Type: application/json" \
  -d @test.json
```

ë˜ëŠ” ì§ì ‘ ë°ì´í„° ì…ë ¥:

```bash
curl -X POST http://localhost:8888/generate_response/ \
  -H "Content-Type: application/json" \
  -d '{"content": "AIëŠ” ì–´ë–¤ ì›ë¦¬ë¡œ ë™ì‘í•˜ë‚˜ìš”?"}'
```

---

## âš™ï¸ í”„ë¡¬í”„íŠ¸ êµ¬ì¡° ë° í›„ì²˜ë¦¬

### ğŸ“Œ ì‹œìŠ¤í…œ ë©”ì‹œì§€

ëª¨ë¸ì—ê²Œ ë‹¤ìŒê³¼ ê°™ì€ ì§€ì¹¨ì„ ì¤ë‹ˆë‹¤:

```
ë‹¹ì‹ ì€ AI ì±—ë´‡ì…ë‹ˆë‹¤. ì‚¬ìš©ìì—ê²Œ ë„ì›€ì´ ë˜ê³  ìœ ìµí•œ ë‚´ìš©ì„ ì œê³µí•´ì•¼í•©ë‹ˆë‹¤. ë‹µë³€ì€ ì§§ê³  ëª…í™•í•˜ê²Œ ë‹µí•˜ì„¸ìš”.
```

### âœ‚ï¸ ì¶œë ¥ í›„ì²˜ë¦¬

ì‘ë‹µì—ì„œ "\[AI]" ì´í›„ì˜ í…ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œí•œ í›„, ë§ˆì§€ë§‰ ë¬¸ì¥ ì¢…ê²°ì(`.`, `!`, `?`, `ã€‚`, `ï¼`, `ï¼Ÿ`) ê¸°ì¤€ìœ¼ë¡œ ë¬¸ì¥ì„ ì˜ë¼ëƒ…ë‹ˆë‹¤.

---

## ğŸ“ í´ë” êµ¬ì¡°

```
POLYGLOT-KO/
â”‚
â”œâ”€â”€ app.py               # FastAPI ë©”ì¸ ì„œë²„ ì½”ë“œ
â”œâ”€â”€ test.json            # ìš”ì²­ ì˜ˆì‹œ íŒŒì¼
â”œâ”€â”€ requirements.txt     # íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ëª©ë¡
â””â”€â”€ heegyu/              # (ëª¨ë¸ ê´€ë ¨ ì»¤ìŠ¤í…€ ì½”ë“œê°€ ìˆë‹¤ë©´)
```

---

## ğŸ“‹ requirements.txt

```txt
fastapi
uvicorn
transformers
torch
```

â€» `torch`ëŠ” GPU ì‚¬ìš© ì‹œ, CUDA ë²„ì „ì— ë§ëŠ” ë³„ë„ ì„¤ì¹˜ ê¶Œì¥:

```bash
pip install torch==2.1.2+cu118 -f https://download.pytorch.org/whl/torch_stable.html
```

ë˜ëŠ” Windowsì—ì„œ CUDA 12.4 ê¸°ì¤€ ì„¤ì¹˜ ì˜ˆì‹œ:

```bash
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124
```

---

## ğŸ™‹â€â™‚ï¸ ë¬¸ì˜

ì´ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¬¸ì˜ëŠ” [github.com/heegyu](https://github.com/heegyu) ë˜ëŠ” ì§ì ‘ ì‚¬ìš©ìì˜ ë ˆí¬ì§€í† ë¦¬ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.
